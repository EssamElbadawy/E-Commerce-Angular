import{a as z,b as $}from"./chunk-SNMT5FOJ.js";import{a as U}from"./chunk-74VCVMPK.js";import{a as B,c as N,f as O,k as R}from"./chunk-R2JCKQ5X.js";import{l as q,m as G}from"./chunk-EWTO6XLZ.js";import{h as j}from"./chunk-G75RCXI3.js";import"./chunk-AUG4K3LK.js";import{$ as _,Eb as l,Fb as p,Hb as E,Ib as F,Ja as x,Jb as A,Lb as M,Mb as V,Na as o,Nb as I,Rb as D,Tb as W,Y as d,Ya as m,cb as y,eb as f,ib as b,ja as S,jb as T,ka as C,kb as h,lb as v,mb as t,nb as r,ob as u,rb as w,vb as L,wb as P,zb as k}from"./chunk-CDFBLEAI.js";import"./chunk-CWTPBX7D.js";var H=(e,i)=>i.id,J=e=>["/details",e],K=()=>[1,2,3,4,5];function Q(e,i){e&1&&(t(0,"span"),u(1,"i",17),r())}function X(e,i){e&1&&u(0,"i",14)}function Y(e,i){if(e&1){let n=w();t(0,"div",7)(1,"div",8)(2,"div",9),u(3,"img",10),r(),t(4,"h3",11),l(5),r(),t(6,"h4",12),l(7),r(),t(8,"div",13)(9,"span"),l(10),r(),t(11,"div"),h(12,Q,2,0,"span",null,T),y(14,X,1,0,"i",14),t(15,"span",15),l(16),r()()(),t(17,"button",16),L("click",function(){let s=S(n).$implicit,c=P();return C(c.addToCart(s.id))}),l(18,"Add to Cart"),r()()()}if(e&2){let n=i.$implicit;o(2),f("routerLink",I(8,J,n.id)),o(),k("alt",n.title),f("src",n.imageCover,x),o(2),p(n.category.name),o(2),p(n.title.split(" ",2).join(" ")),o(3),p(n.price),o(2),v(V(10,K).slice(0,n.ratingsAverage)),o(2),b(14,n.ratingsAverage%2!==0?14:-1),o(2),p(n.ratingsAverage)}}var ue=(()=>{let i=class i{constructor(){this._ProductsService=d(z),this._CategoryService=d(U),this._ToastrService=d(G),this._CartService=d(q),this.productList=m([]),this.categoryList=m([]),this.searchValue=m(""),this.isLoading=m(!1)}ngOnInit(){this.isLoading.set(!0),this._CategoryService.getAllCategory().subscribe({next:a=>{this.categoryList.set(a.data)}}),this.homeSub=this._ProductsService.getAllProduct().subscribe({next:a=>{this.productList.set(a.data),this.isLoading.set(!1)}})}addToCart(a){this.addToCartSub=this._CartService.addProductToCart(a).subscribe({next:s=>{this._ToastrService.success(s.message,"Fresh Cart")}})}ngOnDestroy(){this.homeSub?.unsubscribe(),this.categorySub?.unsubscribe(),this.addToCartSub?.unsubscribe()}};i.\u0275fac=function(s){return new(s||i)},i.\u0275cmp=_({type:i,selectors:[["app-product"]],standalone:!0,features:[M],decls:12,vars:4,consts:[[1,"container-fluid"],[1,"text-main","fw-bold","p-3","text-center","shadow","text-uppercase","my-5"],[1,"input-group","w-25","ms-auto","me-4"],[1,"input-group-text"],[1,"fa-solid","fa-magnifying-glass"],["type","text","placeholder","What are you looking for?","autocomplete","on","value","",1,"form-control",3,"ngModelChange","ngModel"],[1,"row","g-3","m-4"],[1,"col-xl-2","col-lg-3","col-md-4","col-sm-6","col-12"],[1,"product","p-2"],["role","button",3,"routerLink"],[1,"w-100",3,"src","alt"],[1,"small","text-main","mt-4"],[1,"h5"],[1,"d-flex","justify-content-between","align-content-center"],[1,"fa-solid","fa-star-half-stroke","rating-color"],[1,"text-muted"],[1,"btn-main","w-100",3,"click"],[1,"fa","fa-star","rating-color"]],template:function(s,c){s&1&&(t(0,"section")(1,"div",0)(2,"h2",1),l(3,"All Product "),r(),t(4,"div",2)(5,"span",3),u(6,"i",4),r(),t(7,"input",5),A("ngModelChange",function(g){return F(c.searchValue,g)||(c.searchValue=g),g}),r()(),t(8,"div",6),h(9,Y,19,11,"div",7,H),D(11,"search"),r()()()),s&2&&(o(7),E("ngModel",c.searchValue),o(2),v(W(11,1,c.productList(),c.searchValue())))},dependencies:[j,R,B,N,O,$]});let e=i;return e})();export{ue as ProductComponent};
