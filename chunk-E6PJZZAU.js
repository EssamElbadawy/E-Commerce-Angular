import{a as j}from"./chunk-LRXHK2BQ.js";import{l as A,m as V}from"./chunk-EWTO6XLZ.js";import{h as L}from"./chunk-G75RCXI3.js";import"./chunk-AUG4K3LK.js";import{$ as g,Eb as l,Fb as d,Ja as S,Lb as I,Mb as k,Na as o,Nb as E,Y as p,Ya as T,cb as f,eb as b,ib as v,ja as _,jb as W,ka as u,kb as x,lb as C,mb as s,nb as r,ob as c,rb as y,vb as w,wb as h,zb as F}from"./chunk-CDFBLEAI.js";import"./chunk-CWTPBX7D.js";var $=(t,i)=>i.id,M=t=>["/details",t],z=()=>[1,2,3,4,5];function D(t,i){t&1&&(s(0,"span"),c(1,"i",16),r())}function O(t,i){t&1&&c(0,"i",14)}function B(t,i){if(t&1){let n=y();s(0,"div",3)(1,"div",4)(2,"div",5)(3,"span",6),w("click",function(){let e=_(n).$implicit,m=h(2);return u(m.addToCart(e.id))}),c(4,"i",7),r(),s(5,"span",6),w("click",function(){let e=_(n).$implicit,m=h(2);return u(m.removeFromWish(e.id))}),c(6,"i",8),r()(),c(7,"img",9),r(),s(8,"div",10)(9,"h3",11),l(10),r(),s(11,"h4",12),l(12),r(),s(13,"div",13)(14,"span"),l(15),r(),s(16,"div"),x(17,D,2,0,"span",null,W),f(19,O,1,0,"i",14),s(20,"span",15),l(21),r()()()()()}if(t&2){let n=i.$implicit;o(7),F("alt",n.title),b("routerLink",E(8,M,n.id))("src",n.imageCover,S),o(3),d(n.category.name),o(2),d(n.title.split(" ",2).join(" ")),o(3),d(n.price),o(2),C(k(10,z).slice(0,n.ratingsAverage)),o(2),v(19,n.ratingsAverage%1!==0?19:-1),o(2),d(n.ratingsAverage)}}function N(t,i){if(t&1&&(s(0,"h2",0),l(1,"My Wishlist"),r(),s(2,"div",1)(3,"div",2),x(4,B,22,11,"div",3,$),r()()),t&2){let n=h();o(4),C(n.wishItems())}}function P(t,i){t&1&&(s(0,"p"),l(1,"Ther is no products in wish list"),r())}var Q=(()=>{let i=class i{constructor(){this._wishlistService=p(j),this._CartService=p(A),this._ToastrService=p(V),this.wishItems=T([])}ngOnInit(){this.getAllWishies()}getAllWishies(){this._wishlistService.getAllWishies().subscribe({next:a=>{this.wishItems.set(a.data)}})}removeFromWish(a){this._wishlistService.removeWishList(a).subscribe({next:e=>{this.getAllWishies(),this._wishlistService.wishllistnumber.set(e.data.length)}})}addToCart(a){this.addToCartSub=this._CartService.addProductToCart(a).subscribe({next:e=>{this._wishlistService.wishllistnumber.set(e.data.length),this._CartService.cartNumbers.set(e.numOfCartItems),this._ToastrService.success(e.message,"Fresh Cart"),this.wishItems.set(e.data)}})}};i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=g({type:i,selectors:[["app-wish-list"]],standalone:!0,features:[I],decls:2,vars:1,consts:[[1,"mb-4","text-center","text-main","fw-bold","mt-5","w-75","mx-auto","shadow","p-2"],[1,"container","mt-5"],[1,"row","row-cols-1","row-cols-md-3","g-4"],[1,"col-md-3","mx-auto"],[1,"card","product","p-3"],[1,"d-flex","justify-content-between","text-main"],["type","button",1,"z-3",3,"click"],[1,"fa-solid","fa-cart-plus","fs-2"],[1,"fa-solid","fa-xmark","fs-2","text-danger"],["type","button",1,"card-img-top",3,"routerLink","src","alt"],[1,"card-body","mt-2"],[1,"small","text-main","mt-4"],[1,"h5"],[1,"d-flex","justify-content-between","align-content-center","mt-2"],[1,"fa-solid","fa-star-half-stroke","rating-color"],[1,"text-muted"],[1,"fa","fa-star","rating-color"]],template:function(e,m){e&1&&f(0,N,6,0)(1,P,2,0),e&2&&v(0,m.wishItems()?0:1)},dependencies:[L]});let t=i;return t})();export{Q as WishListComponent};
