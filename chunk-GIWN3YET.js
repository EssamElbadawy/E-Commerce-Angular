import{b as W,e as G}from"./chunk-ZXV7LIWS.js";import{a as Y}from"./chunk-LRXHK2BQ.js";import{l as K,m as $}from"./chunk-EWTO6XLZ.js";import{g as z,h as U}from"./chunk-G75RCXI3.js";import{n as j,o as H,p as N}from"./chunk-AUG4K3LK.js";import{$ as P,Eb as c,Fb as S,Gb as x,Ja as A,Lb as V,Na as d,Nb as E,Rb as O,S as k,T as I,Tb as M,Ub as F,V as v,X as T,Y as f,Ya as _,aa as B,cb as C,eb as y,ib as g,ja as u,ka as h,kb as R,lb as L,mb as o,nb as s,ob as m,rb as w,vb as p,wb as a}from"./chunk-CDFBLEAI.js";import{a as tt}from"./chunk-NXZUQGJ7.js";import{e as Z}from"./chunk-CWTPBX7D.js";var D=new v("@sweetalert2/ngx-sweetalert2#swalProvider"),q=new v("@sweetalert2/ngx-sweetalert2#fireOnInit"),Q=new v("@sweetalert2/ngx-sweetalert2#dismissOnDestroy"),J=(()=>{class e{constructor(t){this.swalProvider=t}get swal(){return this.swalPromiseCache||this.preloadSweetAlertLibrary(),this.swalPromiseCache}preloadSweetAlertLibrary(){if(this.swalPromiseCache)return;let t=n(this.swalProvider)?this.swalProvider():Promise.resolve(this.swalProvider);this.swalPromiseCache=t.then(r=>i(r)?r:r.default);function n(r){return typeof r=="function"&&r.version===void 0}function i(r){return typeof r=="function"}}}return e.\u0275fac=function(t){return new(t||e)(T(D))},e.\u0275prov=k({token:e,factory:e.\u0275fac}),e})();function it(){return import("./chunk-Q4GZOKNO.js")}var X=(()=>{class e{static forRoot(t={}){return{ngModule:e,providers:[J,{provide:D,useValue:t.provideSwal||it},{provide:q,useValue:t.fireOnInit||!1},{provide:Q,useValue:t.dismissOnDestroy||!0}]}}static forChild(t={}){return{ngModule:e,providers:[...t.provideSwal?[J,{provide:D,useValue:t.provideSwal}]:[],...t.fireOnInit!==void 0?[{provide:q,useValue:t.fireOnInit}]:[],...t.dismissOnDestroy!==void 0?[{provide:Q,useValue:t.dismissOnDestroy}]:[]]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=B({type:e}),e.\u0275inj=I({imports:[N]}),e})();var b=Z(tt());var nt=(e,l)=>l.product.id,ot=e=>["/order",e];function rt(e,l){e&1&&(o(0,"div",0)(1,"div",1),m(2,"div")(3,"div")(4,"div")(5,"div")(6,"div")(7,"div")(8,"div")(9,"div"),s()())}function st(e,l){if(e&1){let t=w();o(0,"button",35),p("click",function(){u(t);let i=a().$implicit,r=a(3);return h(r.deletePoduct(i.product.id))}),m(1,"i",37),s()}}function lt(e,l){if(e&1){let t=w();o(0,"button",35),p("click",function(){u(t);let i=a().$implicit,r=a(3);return h(r.updatePoduct(i.product.id,i.count-1))}),m(1,"i",38),s()}}function at(e,l){if(e&1){let t=w();o(0,"div",7)(1,"div",9)(2,"div",10)(3,"div",11),m(4,"img",12),s(),o(5,"div",13)(6,"h3",14),c(7),s(),o(8,"p",15),c(9,"In Stock"),s(),o(10,"p",16)(11,"span",17),c(12,"Get it in "),s(),c(13),O(14,"date"),s(),o(15,"p",18),m(16,"i",19),o(17,"span",20),c(18," 2 year warranty"),s()(),o(19,"div",21)(20,"button",22),p("click",function(){let i=u(t).$implicit,r=a(3);return h(r.deletePoduct(i.product.id))}),m(21,"i",23),o(22,"span"),c(23," Remove "),s()(),o(24,"button",24),p("click",function(){let i=u(t).$implicit,r=a(3);return h(r.addTowish(i.product.id))}),m(25,"i",25),o(26,"span"),c(27," Add To Wishlist"),s()()()(),o(28,"div",26)(29,"p",27),c(30),O(31,"currency"),s(),o(32,"p",28),m(33,"img",29),s(),o(34,"p",30),m(35,"i",31),c(36," Free delivery "),s(),o(37,"div",32),C(38,st,2,0,"button",33)(39,lt,2,0),o(40,"p",34),c(41),s(),o(42,"button",35),p("click",function(){let i=u(t).$implicit,r=a(3);return h(r.updatePoduct(i.product.id,i.count+1))}),m(43,"i",36),s()()()()()()}if(e&2){let t=l.$implicit,n=a(3);d(4),y("src",t.product.imageCover,A)("alt",t.product.title),d(3),S(t.product.title),d(6),S(M(14,7,n.Orderin(),"mediumDate")),d(17),x(" ",M(31,10,t.price,"GBP"),""),d(8),g(38,t.count<=1?38:39),d(3),x("QTY ",t.count,"")}}function ct(e,l){if(e&1&&(o(0,"div",8)(1,"button",39),c(2,"Submit Order"),s()()),e&2){let t=a(3);d(),y("routerLink",E(1,ot,t.cartItem()._id))}}function dt(e,l){if(e&1){let t=w();o(0,"section",2)(1,"div",3)(2,"div",4)(3,"img",5),p("click",function(){u(t);let i=a(2);return h(i.showAlertForDeletAll())}),s(),o(4,"h2",6),c(5),O(6,"currency"),s()(),R(7,at,44,13,"div",7,nt),s(),C(9,ct,3,3,"div",8),s()}if(e&2){let t=a(2);d(5),x(" Total: ",F(6,2,t.cartItem().totalCartPrice,"GBP","symbol")," "),d(2),L(t.cartItem().products),d(2),g(9,t.cartItem().totalCartPrice?9:-1)}}function mt(e,l){if(e&1){let t=w();o(0,"img",40),p("click",function(){u(t);let i=a(2);return h(i.goToAllProduct())}),s()}}function pt(e,l){if(e&1&&C(0,dt,10,6,"section",2)(1,mt,1,0),e&2){let t=a();g(0,t.cartItem().totalCartPrice>0?0:1)}}var Xt=(()=>{let l=class l{constructor(){this._CartService=f(K),this._wishlistService=f(Y),this._Router=f(z),this._MyTranslateService=f(G),this._TranslateService=f(W),this._ToastrService=f($),this.cartItem=_({}),this.wishlist=_([]),this.Orderin=_(new Date),this.isLoading=_(!1)}change(n){this._MyTranslateService.changeLang(n)}ngOnInit(){this.getAllProducts()}getAllProducts(){this.isLoading.set(!0),this._CartService.getProductCart().subscribe({next:n=>{this._CartService.cartNumbers.set(n.numOfCartItems),this.cartItem.set(n.data),this.isLoading.set(!1)}})}goToAllProduct(){this._Router.navigate(["/home"])}deletePoduct(n){this._CartService.removeProductCart(n).subscribe({next:i=>{this.cartItem.set(i.data),this._CartService.cartNumbers.set(i.numOfCartItems),this._ToastrService.show("Product has been deleted successfully","Fresh Cart")}})}updatePoduct(n,i){i>0&&this._CartService.updateProductCart(n,i).subscribe({next:r=>{this._ToastrService.success("Your quantity has been Updated Succesfully","Fresh Cart"),this.cartItem.set(r.data),this._CartService.cartNumbers.set(r.numOfCartItems)}})}removeAllProduct(){this._CartService.deleteAllProductCart().subscribe({next:n=>{n.message=="success"&&(this._CartService.cartNumbers.set(n.numOfCartItems),b.default.fire("Emptied!","Your basket has been emptied.","success")),this.cartItem.set({})}})}showAlertForDeletAll(){b.default.fire({title:"Are you sure?",text:"Do you want to empty the basket?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, empty it!"}).then(n=>{n.isConfirmed&&(this.removeAllProduct(),b.default.fire("Emptied!","Your basket has been emptied.","success"))})}addTowish(n){this._wishlistService.addToWish(n).subscribe({next:i=>{this.wishlist.set(i.data),this._ToastrService.success("Your product has been Added Succesfully","Fresh Cart))")}})}};l.\u0275fac=function(i){return new(i||l)},l.\u0275cmp=P({type:l,selectors:[["app-cart"]],standalone:!0,features:[V],decls:2,vars:1,consts:[[1,"d-flex","align-items-center","justify-content-center"],[1,"lds-roller","text-main"],[1,"bg-main-light","rounded-4","shadow","p-4","my-2","w-75","text-start","mx-auto"],[1,"row","g-3"],[1,"d-flex","justify-content-between","align-items-center"],["src","./assets/images/remove-cart_12311787.png","alt","Remove Basket",1,"custom-width","ms-4",3,"click"],[1,"h5","rounded","text-center","bg-white","px-2","text-center","fw-bold","me-4"],[1,"col-12"],[1,"d-flex","justify-content-center","gap-5","mt-3"],[1,"card","border-0","shadow-sm","p-2","bg-white","rounded-3"],[1,"row","align-items-center","p-3"],[1,"col-md-2","col-4","item-cart"],[1,"w-100","rounded-3","shadow-sm",3,"src","alt"],[1,"col-md-7","col-8"],[1,"h5"],[1,"text-success","mb-1"],[1,"mb-1","text-main"],[1,"fw-bold","text-dark"],[1,"mb-1","fw-bold","bg-warranty","mt-2"],[1,"fa-solid","fa-award","text-warning","fs-5"],[1,"text-dark","ms-2","fw-bold"],[1,"d-flex","mt-2","wishlist"],[1,"btn","kUPMTR","btn-padding","me-1",3,"click"],[1,"fa-solid","fa-trash"],[1,"btn","kUPMTR","btn-padding",3,"click"],[1,"fa-regular","fa-heart"],[1,"col-md-3","text-md-end","text-start","mt-3","mt-md-0"],[1,"fw-bold"],[1,"Express","mb-1"],["src","https://f.nooncdn.com/s/app/com/noon/images/fulfilment_express_v3-en.svg","alt","noon-express","height","18px"],[1,"forfree","mb-1"],[1,"fa-solid","fa-truck"],[1,"d-flex","align-items-center"],[1,"btn","fs-5"],[1,"mb-0","mx-1"],[1,"btn","fs-5",3,"click"],[1,"fa-solid","fa-circle-plus","text-main"],[1,"fa-solid","fa-trash","fs-6"],[1,"fa-solid","fa-circle-minus","text-main"],[1,"btn","btn-outline-primary",3,"routerLink"],["src","https://f.nooncdn.com/mpcms/EN0001/assets/214c855e-44ad-46c9-b4e0-9a918755dd05.jpg?format=avif","width","100%","height","100%",1,"ca",3,"click"]],template:function(i,r){i&1&&C(0,rt,10,0,"div",0)(1,pt,2,1),i&2&&g(0,r.isLoading()?0:1)},dependencies:[H,j,X,U],styles:['.instock[_ngcontent-%COMP%]{color:#317618;font-size:12px}.forfree[_ngcontent-%COMP%]{font-size:12px;font-family:Proxima Nova,Helvetica Neue,Arial,sans-serif;font-weight:600}.fa-truck[_ngcontent-%COMP%]{color:#386dd6;font-size:14px}p[_ngcontent-%COMP%]{font-size:12px}h3[_ngcontent-%COMP%]{font-family:Proxima Nova,Helvetica Neue,Arial,sans-serif;font-size:14px;font-weight:600}.col-md-8[_ngcontent-%COMP%]{font-family:Proxima Nova,Helvetica Neue,Arial,sans-serif}.text-dark.ms-2.fw-bold[_ngcontent-%COMP%]{font-size:10px}.kUPMTR[_ngcontent-%COMP%]{border:1px solid rgb(218,220,227);border-radius:8px}.bg-warranty[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:12px;background:linear-gradient(90deg,#fff8ec,#fff 90% 100%)}.wishlist[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#7e859b;font-size:12px}.wishlist[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#7e859b}.item-cart[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{box-shadow:0 0 10px #11bd1168;transform:scale(.95)}img[_ngcontent-%COMP%]{transition:.7s}.lds-roller[_ngcontent-%COMP%], .lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:after{box-sizing:border-box}.lds-roller[_ngcontent-%COMP%]{display:inline-block;position:relative;width:80px;height:80px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_lds-roller 1.2s cubic-bezier(.5,0,.5,1) infinite;transform-origin:40px 40px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:after{content:" ";display:block;position:absolute;width:7.2px;height:7.2px;border-radius:50%;background:currentColor;margin:-3.6px 0 0 -3.6px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){animation-delay:-36ms}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1):after{top:62.62742px;left:62.62742px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){animation-delay:-72ms}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2):after{top:67.71281px;left:56px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){animation-delay:-.108s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3):after{top:70.90963px;left:48.28221px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4){animation-delay:-.144s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4):after{top:72px;left:40px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(5){animation-delay:-.18s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(5):after{top:70.90963px;left:31.71779px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(6){animation-delay:-.216s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(6):after{top:67.71281px;left:24px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(7){animation-delay:-.252s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(7):after{top:62.62742px;left:17.37258px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(8){animation-delay:-.288s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(8):after{top:56px;left:12.28719px}@keyframes _ngcontent-%COMP%_lds-roller{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.custom-width[_ngcontent-%COMP%]{width:50px;height:50px;cursor:pointer}']});let e=l;return e})();export{Xt as CartComponent};
