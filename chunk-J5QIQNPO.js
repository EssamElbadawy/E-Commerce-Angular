import"./chunk-N7AUA7TB.js";import{a as D}from"./chunk-SNMT5FOJ.js";import"./chunk-74VCVMPK.js";import"./chunk-R2JCKQ5X.js";import"./chunk-LRXHK2BQ.js";import{l as H,m as B}from"./chunk-EWTO6XLZ.js";import{e as O}from"./chunk-G75RCXI3.js";import{p as k}from"./chunk-AUG4K3LK.js";import{$ as p,Eb as h,Fb as d,Ja as g,Lb as W,Mb as N,Na as n,T as P,Y as c,Ya as w,aa as T,cb as b,eb as f,ib as I,ja as v,jb as M,ka as S,kb as _,lb as x,mb as i,nb as a,ob as u,rb as C,vb as L,wb as z}from"./chunk-CDFBLEAI.js";import"./chunk-CWTPBX7D.js";var A=(()=>{class e{}return e.\u0275fac=function(l){return new(l||e)},e.\u0275mod=T({type:e}),e.\u0275inj=P({imports:[k]}),e})();var V=()=>[1,2,3,4,5];function Q(e,o){if(e&1&&(i(0,"div",6),u(1,"img",15),a()),e&2){let l,s=o.$implicit,t=z(2);n(),f("src",s,g)("alt",(l=t.detailsProduct())==null?null:l.title)}}function U(e,o){e&1&&(i(0,"span"),u(1,"i",16),a())}function q(e,o){e&1&&u(0,"i",12)}function $(e,o){if(e&1){let l=C();i(0,"section")(1,"div",0)(2,"h1",1),h(3,"Product Details"),a(),i(4,"div",2)(5,"div",3),u(6,"img",4),i(7,"div",5),_(8,Q,2,2,"div",6,M),a()(),i(10,"div",7)(11,"h2",8),h(12),a(),i(13,"p",9),h(14),a(),i(15,"div",10)(16,"span",11),h(17),a(),i(18,"div"),_(19,U,2,0,"span",null,M),b(21,q,1,0,"i",12),i(22,"span",13),h(23),a()()(),i(24,"button",14),L("click",function(){let t;v(l);let r=z();return S(r.addToCart((t=r.detailsProduct())==null?null:t.id))}),h(25,"Add to Cart"),a()()()()()}if(e&2){let l,s,t,r,y,Z,R,E,F,m=z();n(6),f("src",(l=m.detailsProduct())==null?null:l.imageCover,g)("alt",(s=m.detailsProduct())==null?null:s.title),n(2),x((t=m.detailsProduct())==null?null:t.images),n(4),d((r=m.detailsProduct())==null?null:r.title),n(2),d((y=m.detailsProduct())==null?null:y.description),n(3),d((Z=m.detailsProduct())==null?null:Z.price),n(2),x(N(7,V).slice(0,(R=m.detailsProduct())==null?null:R.ratingsAverage)),n(2),I(21,((E=m.detailsProduct())==null?null:E.ratingsAverage)%1!==0?21:-1),n(2),d((F=m.detailsProduct())==null?null:F.ratingsAverage)}}var Se=(()=>{let o=class o{constructor(){this.detailsProduct=w(""),this._ToastrService=c(B),this._CartService=c(H),this._ActivatedRoute=c(O),this._ProductsService=c(D)}ngOnInit(){this._ActivatedRoute.paramMap.subscribe({next:s=>{let t=s.get("productId");this.getProductById=this._ProductsService.getProductById(t).subscribe({next:r=>{this.detailsProduct.set(r.data),console.log(this.detailsProduct)}})}})}addToCart(s){this.addToCartsub=this._CartService.addProductToCart(s).subscribe({next:t=>{this._ToastrService.success(t.message,"Fresh Cart"),this._CartService.cartNumbers.set(t.numOfCartItems)}})}ngOnDestroy(){this.getProductById?.unsubscribe(),this.addToCartsub?.unsubscribe()}};o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=p({type:o,selectors:[["app-details"]],standalone:!0,features:[W],decls:1,vars:1,consts:[[1,"container"],[1,"text-main","fw-bold","p-3","text-center","my-5"],[1,"row","align-items-center","justify-content-center"],[1,"col-md-4"],[1,"w-75","main-image","rounded-1","d-block","mx-auto",3,"src","alt"],[1,"thumbnail-row","mt-3","d-flex","justify-content-center","gap-3"],[1,"col-md-5"],[1,"col-md-9","mt-3"],[1,"fw-bold"],[1,"text-muted"],[1,"d-flex","justify-content-between","align-content-center","mb-"],[1,"product-price","h4","fw-bold"],[1,"fa","fa-star-half-alt","rating-color"],[1,"text-muted","ms-2"],[1,"btn-main","w-25","p-2","d-block","mx-auto",3,"click"],[1,"w-100","rounded-2",3,"src","alt"],[1,"fa","fa-star","rating-color"]],template:function(t,r){t&1&&b(0,$,26,8,"section"),t&2&&I(0,r.detailsProduct()!=null?0:-1)},dependencies:[A]});let e=o;return e})();export{Se as DetailsComponent};
